<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Global Demographics Dashboard 2024</title>

		<!-- Vega, Vega-Lite, and Vega-Embed -->
		<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

		<!-- Custom CSS -->
		<link rel="stylesheet" href="css/styles.css" />

		<!-- Google Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body>
		<!-- Header Section -->
		<header class="header">
			<div class="container">
				<h1 class="main-title">Global Demographics Dashboard 2024</h1>
				<p class="subtitle">Exploring Population Patterns, Trends, and Socioeconomic Indicators Across Nations</p>
				<div class="header-stats">
					<div class="stat-card">
						<span class="stat-number">8.1B</span>
						<span class="stat-label">World Population</span>
					</div>
					<div class="stat-card">
						<span class="stat-number">195</span>
						<span class="stat-label">Countries</span>
					</div>
					<div class="stat-card">
						<span class="stat-number">73</span>
						<span class="stat-label">Avg Life Expectancy</span>
					</div>
				</div>
			</div>
		</header>

		<!-- Introduction Section -->
		<section class="intro-section">
			<div class="container">
				<div class="intro-content">
					<h2>Understanding Our Changing World</h2>
					<!-- <p>
						This interactive dashboard provides insights into global demographic trends, helping you understand how
						population, wealth, and health indicators vary across nations. Explore the data through interactive
						visualizations to discover patterns and correlations that shape our world.
					</p> -->
					<!-- <div class="insight-boxes">
						<div class="insight-box">
							<h3>üåç Geographic Patterns</h3>
							<p>Discover how population density and growth vary by region</p>
						</div>
						<div class="insight-box">
							<h3>üìà Historical Trends</h3>
							<p>Track population changes from 1960 to 2024</p>
						</div>
						<div class="insight-box">
							<h3>üí° Key Insights</h3>
							<p>Explore relationships between wealth, health, and demographics</p>
						</div>
					</div> -->
				</div>
			</div>
		</section>

		<!-- Main Visualization Container -->
		<main class="main-content">
			<div class="container">
				<!-- World Map Section -->
				<section class="viz-section map-section">
					<div class="section-header">
						<h2>World Population Distribution</h2>
						<p class="section-description">
							Click on any country to see detailed information and highlight it across all visualizations. Hover over
							countries to see population data.
						</p>
					</div>
					<div id="map-viz" class="visualization"></div>
					<div class="viz-notes">
						<p>
							<strong>Note:</strong> Color intensity indicates population size. Darker colors represent higher
							populations.
						</p>
					</div>
				</section>

				<!-- Two Column Layout for Bar and Line Charts -->
				<div class="viz-grid-2">
					<!-- Top Countries Bar Chart -->
					<section class="viz-section">
						<div class="section-header">
							<h2>Top 15 Most Populous Countries</h2>
							<p class="section-description">
								Compare population sizes across the world's largest nations. Click bars to filter other visualizations.
							</p>
						</div>
						<div id="bar-viz" class="visualization"></div>
					</section>

					<!-- Population Trends Line Chart -->
					<section class="viz-section">
						<div class="section-header">
							<h2>Population Growth Trends (1960-2024)</h2>
							<p class="section-description">
								Explore how populations have changed over time. Select countries from other charts to compare trends.
							</p>
						</div>
						<div id="line-viz" class="visualization"></div>
					</section>
				</div>

				<!-- Scatter Plot Section -->
				<section class="viz-section scatter-section">
					<div class="section-header">
						<h2>Life Expectancy vs GDP per Capita</h2>
						<p class="section-description">
							Discover the relationship between economic prosperity and health outcomes. Point size represents
							population. Use the legend to filter by continent.
						</p>
					</div>
					<div id="scatter-viz" class="visualization"></div>
					<div class="viz-notes">
						<p>
							<strong>Insight:</strong> Notice the strong correlation between GDP per capita and life expectancy, with
							notable outliers representing unique socioeconomic conditions.
						</p>
					</div>
				</section>

				<!-- Age Structure Section -->
				<section class="viz-section">
					<div class="section-header">
						<h2>Age Distribution by Region</h2>
						<p class="section-description">
							Compare age structures across different regions. Younger populations indicate higher growth potential.
						</p>
					</div>
					<div id="age-viz" class="visualization"></div>
				</section>
			</div>
		</main>

		<!-- Data Sources Section -->
		<section class="data-sources">
			<div class="container">
				<h2>Data Sources</h2>
				<div class="sources-grid">
					<div class="source-card">
						<h3>World Bank Open Data</h3>
						<p>Population, GDP, and economic indicators (1960-2024)</p>
						<a href="https://data.worldbank.org/" target="_blank">Visit Source ‚Üí</a>
					</div>
					<div class="source-card">
						<h3>United Nations Data</h3>
						<p>Demographic statistics and projections</p>
						<a href="http://data.un.org/" target="_blank">Visit Source ‚Üí</a>
					</div>
					<div class="source-card">
						<h3>Our World in Data</h3>
						<p>Life expectancy and health indicators</p>
						<a href="https://ourworldindata.org/" target="_blank">Visit Source ‚Üí</a>
					</div>
				</div>
				<!-- <p class="methodology-note">
					<strong>Methodology:</strong> Data has been aggregated from multiple sources and normalized to 2024 values.
					Historical trends use annual averages. Missing data points are interpolated where appropriate.
				</p> -->
			</div>
		</section>

		<!-- Footer -->
		<footer class="footer">
			<div class="container">
				<p>FIT3179 Data Visualisation 2 | Created with Vega-Lite Authorship and License</p>
				<p class="footer-note">
					This work was created by Alex Zhang for FIT3179 Data Visualisation 2, Monash University "date". You may choose
					to reuse this work under a copyleft license, Please consult with the author before redistributing. This
					visualisation is publicly accessible, so all external elements are used with permission or are openly
					available
				</p>
			</div>
		</footer>

		<!-- Embedded Data -->
		<script type="text/javascript">
			// World Population Data
			const worldPopulationData = [
				{ country_id: 356, country: 'India', population: 1463865525, continent: 'Asia' },
				{ country_id: 156, country: 'China', population: 1416096094, continent: 'Asia' },
				{ country_id: 840, country: 'United States', population: 347275807, continent: 'North America' },
				{ country_id: 360, country: 'Indonesia', population: 285721236, continent: 'Asia' },
				{ country_id: 586, country: 'Pakistan', population: 255219554, continent: 'Asia' },
				{ country_id: 566, country: 'Nigeria', population: 237527782, continent: 'Africa' },
				{ country_id: 76, country: 'Brazil', population: 220000000, continent: 'South America' },
				{ country_id: 50, country: 'Bangladesh', population: 175686899, continent: 'Asia' },
				{ country_id: 643, country: 'Russia', population: 144000000, continent: 'Europe' },
				{ country_id: 231, country: 'Ethiopia', population: 136000000, continent: 'Africa' },
				{ country_id: 484, country: 'Mexico', population: 132000000, continent: 'North America' },
				{ country_id: 392, country: 'Japan', population: 123951692, continent: 'Asia' },
				{ country_id: 608, country: 'Philippines', population: 118000000, continent: 'Asia' },
				{ country_id: 704, country: 'Vietnam', population: 99500000, continent: 'Asia' },
				{ country_id: 818, country: 'Egypt', population: 113000000, continent: 'Africa' },
				{ country_id: 792, country: 'Turkey', population: 86000000, continent: 'Asia' },
				{ country_id: 276, country: 'Germany', population: 84552242, continent: 'Europe' },
				{ country_id: 364, country: 'Iran', population: 87500000, continent: 'Asia' },
				{ country_id: 764, country: 'Thailand', population: 71800000, continent: 'Asia' },
				{ country_id: 826, country: 'United Kingdom', population: 67000000, continent: 'Europe' },
				{ country_id: 250, country: 'France', population: 68000000, continent: 'Europe' },
				{ country_id: 380, country: 'Italy', population: 59000000, continent: 'Europe' },
				{ country_id: 710, country: 'South Africa', population: 63000000, continent: 'Africa' },
				{ country_id: 834, country: 'Tanzania', population: 68000000, continent: 'Africa' },
				{ country_id: 404, country: 'Kenya', population: 58000000, continent: 'Africa' },
				{ country_id: 800, country: 'Uganda', population: 51000000, continent: 'Africa' },
				{ country_id: 12, country: 'Algeria', population: 46500000, continent: 'Africa' },
				{ country_id: 729, country: 'Sudan', population: 50000000, continent: 'Africa' },
				{ country_id: 804, country: 'Ukraine', population: 37000000, continent: 'Europe' },
				{ country_id: 368, country: 'Iraq', population: 45500000, continent: 'Asia' },
				{ country_id: 4, country: 'Afghanistan', population: 42000000, continent: 'Asia' },
				{ country_id: 616, country: 'Poland', population: 37700000, continent: 'Europe' },
				{ country_id: 124, country: 'Canada', population: 39858480, continent: 'North America' },
				{ country_id: 504, country: 'Morocco', population: 38500000, continent: 'Africa' },
				{ country_id: 682, country: 'Saudi Arabia', population: 36400000, continent: 'Asia' },
				{ country_id: 860, country: 'Uzbekistan', population: 36000000, continent: 'Asia' },
				{ country_id: 604, country: 'Peru', population: 33600000, continent: 'South America' },
				{ country_id: 24, country: 'Angola', population: 37000000, continent: 'Africa' },
				{ country_id: 458, country: 'Malaysia', population: 34200000, continent: 'Asia' },
				{ country_id: 508, country: 'Mozambique', population: 33500000, continent: 'Africa' },
				{ country_id: 288, country: 'Ghana', population: 34100000, continent: 'Africa' },
				{ country_id: 887, country: 'Yemen', population: 35000000, continent: 'Asia' },
				{ country_id: 524, country: 'Nepal', population: 30900000, continent: 'Asia' },
				{ country_id: 862, country: 'Venezuela', population: 28800000, continent: 'South America' },
				{ country_id: 450, country: 'Madagascar', population: 31200000, continent: 'Africa' },
				{ country_id: 120, country: 'Cameroon', population: 28600000, continent: 'Africa' },
				{ country_id: 384, country: 'Ivory Coast', population: 29400000, continent: 'Africa' },
				{ country_id: 562, country: 'Niger', population: 27200000, continent: 'Africa' },
				{ country_id: 36, country: 'Australia', population: 26600000, continent: 'Oceania' },
				{ country_id: 408, country: 'North Korea', population: 26100000, continent: 'Asia' },
				{ country_id: 144, country: 'Sri Lanka', population: 21800000, continent: 'Asia' },
				{ country_id: 854, country: 'Burkina Faso', population: 23200000, continent: 'Africa' },
				{ country_id: 466, country: 'Mali', population: 23300000, continent: 'Africa' },
				{ country_id: 642, country: 'Romania', population: 19000000, continent: 'Europe' },
				{ country_id: 454, country: 'Malawi', population: 21500000, continent: 'Africa' },
				{ country_id: 152, country: 'Chile', population: 19600000, continent: 'South America' },
				{ country_id: 398, country: 'Kazakhstan', population: 20400000, continent: 'Asia' },
				{ country_id: 894, country: 'Zambia', population: 20600000, continent: 'Africa' },
				{ country_id: 320, country: 'Guatemala', population: 18400000, continent: 'North America' },
				{ country_id: 218, country: 'Ecuador', population: 18000000, continent: 'South America' },
				{ country_id: 760, country: 'Syria', population: 19400000, continent: 'Asia' },
				{ country_id: 528, country: 'Netherlands', population: 17500000, continent: 'Europe' },
				{ country_id: 686, country: 'Senegal', population: 18300000, continent: 'Africa' },
				{ country_id: 116, country: 'Cambodia', population: 16800000, continent: 'Asia' },
				{ country_id: 148, country: 'Chad', population: 18300000, continent: 'Africa' },
				{ country_id: 56, country: 'Belgium', population: 11800000, continent: 'Europe' },
				{ country_id: 203, country: 'Czech Republic', population: 10900000, continent: 'Europe' },
				{ country_id: 300, country: 'Greece', population: 10300000, continent: 'Europe' },
				{ country_id: 348, country: 'Hungary', population: 9600000, continent: 'Europe' },
				{ country_id: 752, country: 'Sweden', population: 10500000, continent: 'Europe' },
				{ country_id: 40, country: 'Austria', population: 9100000, continent: 'Europe' },
				{ country_id: 756, country: 'Switzerland', population: 8800000, continent: 'Europe' },
				{ country_id: 196, country: 'Cyprus', population: 1300000, continent: 'Europe' },
				{ country_id: 376, country: 'Israel', population: 9500000, continent: 'Asia' },
				{ country_id: 400, country: 'Jordan', population: 11500000, continent: 'Asia' },
				{ country_id: 414, country: 'Kuwait', population: 4900000, continent: 'Asia' },
				{ country_id: 422, country: 'Lebanon', population: 5500000, continent: 'Asia' },
				{ country_id: 512, country: 'Oman', population: 4600000, continent: 'Asia' },
				{ country_id: 634, country: 'Qatar', population: 3000000, continent: 'Asia' },
				{ country_id: 784, country: 'United Arab Emirates', population: 10400000, continent: 'Asia' },
				{ country_id: 32, country: 'Argentina', population: 46900000, continent: 'South America' },
				{ country_id: 68, country: 'Bolivia', population: 12500000, continent: 'South America' },
				{ country_id: 170, country: 'Colombia', population: 52000000, continent: 'South America' },
				{ country_id: 188, country: 'Costa Rica', population: 5300000, continent: 'North America' },
				{ country_id: 192, country: 'Cuba', population: 11200000, continent: 'North America' },
				{ country_id: 214, country: 'Dominican Republic', population: 11400000, continent: 'North America' },
				{ country_id: 222, country: 'El Salvador', population: 6400000, continent: 'North America' },
				{ country_id: 340, country: 'Honduras', population: 10600000, continent: 'North America' },
				{ country_id: 388, country: 'Jamaica', population: 2800000, continent: 'North America' },
				{ country_id: 558, country: 'Nicaragua', population: 7200000, continent: 'North America' },
				{ country_id: 591, country: 'Panama', population: 4500000, continent: 'North America' },
				{ country_id: 600, country: 'Paraguay', population: 6800000, continent: 'South America' },
				{ country_id: 858, country: 'Uruguay', population: 3400000, continent: 'South America' },
				{ country_id: 112, country: 'Belarus', population: 9200000, continent: 'Europe' },
				{ country_id: 100, country: 'Bulgaria', population: 6700000, continent: 'Europe' },
				{ country_id: 191, country: 'Croatia', population: 3900000, continent: 'Europe' },
				{ country_id: 233, country: 'Estonia', population: 1400000, continent: 'Europe' },
				{ country_id: 428, country: 'Latvia', population: 1800000, continent: 'Europe' },
				{ country_id: 440, country: 'Lithuania', population: 2700000, continent: 'Europe' },
				{ country_id: 498, country: 'Moldova', population: 2500000, continent: 'Europe' },
				{ country_id: 703, country: 'Slovakia', population: 5500000, continent: 'Europe' },
				{ country_id: 705, country: 'Slovenia', population: 2100000, continent: 'Europe' },
				{ country_id: 8, country: 'Albania', population: 2800000, continent: 'Europe' },
				{ country_id: 70, country: 'Bosnia and Herzegovina', population: 3200000, continent: 'Europe' },
				{ country_id: 807, country: 'North Macedonia', population: 2100000, continent: 'Europe' },
				{ country_id: 688, country: 'Serbia', population: 6700000, continent: 'Europe' },
				{ country_id: 499, country: 'Montenegro', population: 630000, continent: 'Europe' },
				{ country_id: 434, country: 'Libia', population: 7500000, continent: 'Africa' }
			];

			// Population Trends Data
			const populationTrendsData = [
				{ country: 'China', year: '1960', population: 667070000 },
				{ country: 'China', year: '1970', population: 827601000 },
				{ country: 'China', year: '1980', population: 987050000 },
				{ country: 'China', year: '1990', population: 1143330000 },
				{ country: 'China', year: '2000', population: 1262645000 },
				{ country: 'China', year: '2010', population: 1337705000 },
				{ country: 'China', year: '2020', population: 1402385000 },
				{ country: 'China', year: '2024', population: 1416096094 },
				{ country: 'India', year: '1960', population: 449661000 },
				{ country: 'India', year: '1970', population: 555189000 },
				{ country: 'India', year: '1980', population: 696828000 },
				{ country: 'India', year: '1990', population: 870133000 },
				{ country: 'India', year: '2000', population: 1053051000 },
				{ country: 'India', year: '2010', population: 1234281000 },
				{ country: 'India', year: '2020', population: 1396387000 },
				{ country: 'India', year: '2024', population: 1463865525 },
				{ country: 'United States', year: '1960', population: 180671000 },
				{ country: 'United States', year: '1970', population: 205052000 },
				{ country: 'United States', year: '1980', population: 227225000 },
				{ country: 'United States', year: '1990', population: 249623000 },
				{ country: 'United States', year: '2000', population: 282162000 },
				{ country: 'United States', year: '2010', population: 309327000 },
				{ country: 'United States', year: '2020', population: 331894000 },
				{ country: 'United States', year: '2024', population: 347275807 },
				{ country: 'Indonesia', year: '1960', population: 88701000 },
				{ country: 'Indonesia', year: '1970', population: 115124000 },
				{ country: 'Indonesia', year: '1980', population: 148177000 },
				{ country: 'Indonesia', year: '1990', population: 182159000 },
				{ country: 'Indonesia', year: '2000', population: 214072000 },
				{ country: 'Indonesia', year: '2010', population: 244016000 },
				{ country: 'Indonesia', year: '2020', population: 271858000 },
				{ country: 'Indonesia', year: '2024', population: 285721236 },
				{ country: 'Brazil', year: '1960', population: 72757000 },
				{ country: 'Brazil', year: '1970', population: 96369000 },
				{ country: 'Brazil', year: '1980', population: 121672000 },
				{ country: 'Brazil', year: '1990', population: 150368000 },
				{ country: 'Brazil', year: '2000', population: 175873000 },
				{ country: 'Brazil', year: '2010', population: 196353000 },
				{ country: 'Brazil', year: '2020', population: 213196000 },
				{ country: 'Brazil', year: '2024', population: 220000000 },
				{ country: 'Pakistan', year: '1960', population: 44912000 },
				{ country: 'Pakistan', year: '1970', population: 58091000 },
				{ country: 'Pakistan', year: '1980', population: 80624000 },
				{ country: 'Pakistan', year: '1990', population: 111845000 },
				{ country: 'Pakistan', year: '2000', population: 146343000 },
				{ country: 'Pakistan', year: '2010', population: 179424000 },
				{ country: 'Pakistan', year: '2020', population: 227197000 },
				{ country: 'Pakistan', year: '2024', population: 255219554 },
				{ country: 'Nigeria', year: '1960', population: 45138000 },
				{ country: 'Nigeria', year: '1970', population: 55982000 },
				{ country: 'Nigeria', year: '1980', population: 73698000 },
				{ country: 'Nigeria', year: '1990', population: 95617000 },
				{ country: 'Nigeria', year: '2000', population: 122876000 },
				{ country: 'Nigeria', year: '2010', population: 158423000 },
				{ country: 'Nigeria', year: '2020', population: 208328000 },
				{ country: 'Nigeria', year: '2024', population: 237527782 },
				{ country: 'Bangladesh', year: '1960', population: 50156000 },
				{ country: 'Bangladesh', year: '1970', population: 65048000 },
				{ country: 'Bangladesh', year: '1980', population: 80623000 },
				{ country: 'Bangladesh', year: '1990', population: 105256000 },
				{ country: 'Bangladesh', year: '2000', population: 127658000 },
				{ country: 'Bangladesh', year: '2010', population: 148391000 },
				{ country: 'Bangladesh', year: '2020', population: 169356000 },
				{ country: 'Bangladesh', year: '2024', population: 175686899 },
				{ country: 'Russia', year: '1960', population: 119897000 },
				{ country: 'Russia', year: '1970', population: 130079000 },
				{ country: 'Russia', year: '1980', population: 139010000 },
				{ country: 'Russia', year: '1990', population: 147969000 },
				{ country: 'Russia', year: '2000', population: 146844000 },
				{ country: 'Russia', year: '2010', population: 142849000 },
				{ country: 'Russia', year: '2020', population: 144073000 },
				{ country: 'Russia', year: '2024', population: 144000000 },
				{ country: 'Japan', year: '1960', population: 94096000 },
				{ country: 'Japan', year: '1970', population: 104345000 },
				{ country: 'Japan', year: '1980', population: 116807000 },
				{ country: 'Japan', year: '1990', population: 123537000 },
				{ country: 'Japan', year: '2000', population: 126843000 },
				{ country: 'Japan', year: '2010', population: 128542000 },
				{ country: 'Japan', year: '2020', population: 125836000 },
				{ country: 'Japan', year: '2024', population: 123951692 },
				{ country: 'Mexico', year: '1960', population: 38174000 },
				{ country: 'Mexico', year: '1970', population: 50596000 },
				{ country: 'Mexico', year: '1980', population: 68347000 },
				{ country: 'Mexico', year: '1990', population: 86077000 },
				{ country: 'Mexico', year: '2000', population: 103874000 },
				{ country: 'Mexico', year: '2010', population: 117886000 },
				{ country: 'Mexico', year: '2020', population: 127504000 },
				{ country: 'Mexico', year: '2024', population: 132000000 },
				{ country: 'Ethiopia', year: '1960', population: 22151000 },
				{ country: 'Ethiopia', year: '1970', population: 28860000 },
				{ country: 'Ethiopia', year: '1980', population: 37686000 },
				{ country: 'Ethiopia', year: '1990', population: 48332000 },
				{ country: 'Ethiopia', year: '2000', population: 66224000 },
				{ country: 'Ethiopia', year: '2010', population: 88861000 },
				{ country: 'Ethiopia', year: '2020', population: 117876000 },
				{ country: 'Ethiopia', year: '2024', population: 136000000 },
				{ country: 'Philippines', year: '1960', population: 26270000 },
				{ country: 'Philippines', year: '1970', population: 36684000 },
				{ country: 'Philippines', year: '1980', population: 48098000 },
				{ country: 'Philippines', year: '1990', population: 62413000 },
				{ country: 'Philippines', year: '2000', population: 77992000 },
				{ country: 'Philippines', year: '2010', population: 93967000 },
				{ country: 'Philippines', year: '2020', population: 110190000 },
				{ country: 'Philippines', year: '2024', population: 118000000 },
				{ country: 'Egypt', year: '1960', population: 27884000 },
				{ country: 'Egypt', year: '1970', population: 35329000 },
				{ country: 'Egypt', year: '1980', population: 44433000 },
				{ country: 'Egypt', year: '1990', population: 57423000 },
				{ country: 'Egypt', year: '2000', population: 70507000 },
				{ country: 'Egypt', year: '2010', population: 84474000 },
				{ country: 'Egypt', year: '2020', population: 104258000 },
				{ country: 'Egypt', year: '2024', population: 113000000 },
				{ country: 'Vietnam', year: '1960', population: 33228000 },
				{ country: 'Vietnam', year: '1970', population: 43407000 },
				{ country: 'Vietnam', year: '1980', population: 54373000 },
				{ country: 'Vietnam', year: '1990', population: 67589000 },
				{ country: 'Vietnam', year: '2000', population: 80286000 },
				{ country: 'Vietnam', year: '2010', population: 88357000 },
				{ country: 'Vietnam', year: '2020', population: 97468000 },
				{ country: 'Vietnam', year: '2024', population: 99500000 },
				{ country: 'Germany', year: '1960', population: 72814000 },
				{ country: 'Germany', year: '1970', population: 78169000 },
				{ country: 'Germany', year: '1980', population: 78397000 },
				{ country: 'Germany', year: '1990', population: 79433000 },
				{ country: 'Germany', year: '2000', population: 82163000 },
				{ country: 'Germany', year: '2010', population: 81777000 },
				{ country: 'Germany', year: '2020', population: 83133000 },
				{ country: 'Germany', year: '2024', population: 84552242 },
				{ country: 'Turkey', year: '1960', population: 27438000 },
				{ country: 'Turkey', year: '1970', population: 35321000 },
				{ country: 'Turkey', year: '1980', population: 44438000 },
				{ country: 'Turkey', year: '1990', population: 56203000 },
				{ country: 'Turkey', year: '2000', population: 67461000 },
				{ country: 'Turkey', year: '2010', population: 73142000 },
				{ country: 'Turkey', year: '2020', population: 84135000 },
				{ country: 'Turkey', year: '2024', population: 86000000 },
				{ country: 'Iran', year: '1960', population: 21571000 },
				{ country: 'Iran', year: '1970', population: 28514000 },
				{ country: 'Iran', year: '1980', population: 38542000 },
				{ country: 'Iran', year: '1990', population: 56359000 },
				{ country: 'Iran', year: '2000', population: 66132000 },
				{ country: 'Iran', year: '2010', population: 74253000 },
				{ country: 'Iran', year: '2020', population: 84923000 },
				{ country: 'Iran', year: '2024', population: 87500000 },
				{ country: 'Thailand', year: '1960', population: 27397000 },
				{ country: 'Thailand', year: '1970', population: 36885000 },
				{ country: 'Thailand', year: '1980', population: 47374000 },
				{ country: 'Thailand', year: '1990', population: 56583000 },
				{ country: 'Thailand', year: '2000', population: 62693000 },
				{ country: 'Thailand', year: '2010', population: 67209000 },
				{ country: 'Thailand', year: '2020', population: 69950000 },
				{ country: 'Thailand', year: '2024', population: 71800000 },
				{ country: 'United Kingdom', year: '1960', population: 52372000 },
				{ country: 'United Kingdom', year: '1970', population: 55632000 },
				{ country: 'United Kingdom', year: '1980', population: 56314000 },
				{ country: 'United Kingdom', year: '1990', population: 57157000 },
				{ country: 'United Kingdom', year: '2000', population: 58886000 },
				{ country: 'United Kingdom', year: '2010', population: 62766000 },
				{ country: 'United Kingdom', year: '2020', population: 67026000 },
				{ country: 'United Kingdom', year: '2024', population: 67000000 },
				{ country: 'France', year: '1960', population: 45684000 },
				{ country: 'France', year: '1970', population: 50772000 },
				{ country: 'France', year: '1980', population: 53880000 },
				{ country: 'France', year: '1990', population: 56735000 },
				{ country: 'France', year: '2000', population: 59278000 },
				{ country: 'France', year: '2010', population: 62765000 },
				{ country: 'France', year: '2020', population: 67388000 },
				{ country: 'France', year: '2024', population: 68000000 },
				{ country: 'Italy', year: '1960', population: 50200000 },
				{ country: 'Italy', year: '1970', population: 53822000 },
				{ country: 'Italy', year: '1980', population: 56434000 },
				{ country: 'Italy', year: '1990', population: 56719000 },
				{ country: 'Italy', year: '2000', population: 56924000 },
				{ country: 'Italy', year: '2010', population: 59277000 },
				{ country: 'Italy', year: '2020', population: 59554000 },
				{ country: 'Italy', year: '2024', population: 59000000 },
				{ country: 'South Africa', year: '1960', population: 17149000 },
				{ country: 'South Africa', year: '1970', population: 22502000 },
				{ country: 'South Africa', year: '1980', population: 28523000 },
				{ country: 'South Africa', year: '1990', population: 35282000 },
				{ country: 'South Africa', year: '2000', population: 45064000 },
				{ country: 'South Africa', year: '2010', population: 51784000 },
				{ country: 'South Africa', year: '2020', population: 59622000 },
				{ country: 'South Africa', year: '2024', population: 63000000 }
			];

			// Demographics Data (GDP and Life Expectancy)
			const demographicsData = [
				{ country: 'India', continent: 'Asia', population: 1463865525, gdp_per_capita: 2612, life_expectancy: 70.8 },
				{ country: 'China', continent: 'Asia', population: 1416096094, gdp_per_capita: 13136, life_expectancy: 78.2 },
				{
					country: 'United States',
					continent: 'North America',
					population: 347275807,
					gdp_per_capita: 80035,
					life_expectancy: 78.9
				},
				{ country: 'Indonesia', continent: 'Asia', population: 285721236, gdp_per_capita: 4914, life_expectancy: 71.7 },
				{ country: 'Pakistan', continent: 'Asia', population: 255219554, gdp_per_capita: 1680, life_expectancy: 67.3 },
				{ country: 'Nigeria', continent: 'Africa', population: 237527782, gdp_per_capita: 2184, life_expectancy: 54.7 },
				{
					country: 'Brazil',
					continent: 'South America',
					population: 220000000,
					gdp_per_capita: 9673,
					life_expectancy: 75.9
				},
				{
					country: 'Bangladesh',
					continent: 'Asia',
					population: 175686899,
					gdp_per_capita: 2688,
					life_expectancy: 72.4
				},
				{ country: 'Russia', continent: 'Europe', population: 144000000, gdp_per_capita: 15345, life_expectancy: 72.6 },
				{
					country: 'Ethiopia',
					continent: 'Africa',
					population: 136000000,
					gdp_per_capita: 1098,
					life_expectancy: 66.2
				},
				{
					country: 'Mexico',
					continent: 'North America',
					population: 132000000,
					gdp_per_capita: 11497,
					life_expectancy: 75.1
				},
				{ country: 'Japan', continent: 'Asia', population: 123951692, gdp_per_capita: 39285, life_expectancy: 84.8 },
				{
					country: 'Philippines',
					continent: 'Asia',
					population: 118000000,
					gdp_per_capita: 3905,
					life_expectancy: 71.2
				},
				{ country: 'Vietnam', continent: 'Asia', population: 99500000, gdp_per_capita: 4623, life_expectancy: 75.4 },
				{ country: 'Egypt', continent: 'Africa', population: 113000000, gdp_per_capita: 4295, life_expectancy: 71.8 },
				{ country: 'Turkey', continent: 'Asia', population: 86000000, gdp_per_capita: 10674, life_expectancy: 77.7 },
				{ country: 'Germany', continent: 'Europe', population: 84552242, gdp_per_capita: 51383, life_expectancy: 81.3 },
				{ country: 'Iran', continent: 'Asia', population: 87500000, gdp_per_capita: 5305, life_expectancy: 76.7 },
				{ country: 'Thailand', continent: 'Asia', population: 71800000, gdp_per_capita: 7233, life_expectancy: 77.8 },
				{
					country: 'United Kingdom',
					continent: 'Europe',
					population: 67000000,
					gdp_per_capita: 47202,
					life_expectancy: 81.3
				},
				{ country: 'France', continent: 'Europe', population: 68000000, gdp_per_capita: 44995, life_expectancy: 82.7 },
				{ country: 'Italy', continent: 'Europe', population: 59000000, gdp_per_capita: 35657, life_expectancy: 83.6 },
				{
					country: 'South Africa',
					continent: 'Africa',
					population: 63000000,
					gdp_per_capita: 6994,
					life_expectancy: 64.1
				},
				{ country: 'Tanzania', continent: 'Africa', population: 68000000, gdp_per_capita: 1192, life_expectancy: 66.2 },
				{ country: 'Kenya', continent: 'Africa', population: 58000000, gdp_per_capita: 2099, life_expectancy: 66.7 },
				{ country: 'Uganda', continent: 'Africa', population: 51000000, gdp_per_capita: 1046, life_expectancy: 63.4 },
				{ country: 'Algeria', continent: 'Africa', population: 46500000, gdp_per_capita: 4106, life_expectancy: 76.9 },
				{ country: 'Sudan', continent: 'Africa', population: 50000000, gdp_per_capita: 1016, life_expectancy: 65.3 },
				{ country: 'Ukraine', continent: 'Europe', population: 37000000, gdp_per_capita: 4828, life_expectancy: 71.6 },
				{ country: 'Iraq', continent: 'Asia', population: 45500000, gdp_per_capita: 5955, life_expectancy: 70.6 },
				{ country: 'Afghanistan', continent: 'Asia', population: 42000000, gdp_per_capita: 368, life_expectancy: 64.8 },
				{ country: 'Poland', continent: 'Europe', population: 37700000, gdp_per_capita: 18742, life_expectancy: 77.9 },
				{
					country: 'Canada',
					continent: 'North America',
					population: 39858480,
					gdp_per_capita: 52791,
					life_expectancy: 82.7
				},
				{ country: 'Morocco', continent: 'Africa', population: 38500000, gdp_per_capita: 3795, life_expectancy: 76.9 },
				{
					country: 'Saudi Arabia',
					continent: 'Asia',
					population: 36400000,
					gdp_per_capita: 30437,
					life_expectancy: 76.9
				},
				{ country: 'Uzbekistan', continent: 'Asia', population: 36000000, gdp_per_capita: 2255, life_expectancy: 71.7 },
				{
					country: 'Peru',
					continent: 'South America',
					population: 33600000,
					gdp_per_capita: 7126,
					life_expectancy: 76.7
				},
				{ country: 'Angola', continent: 'Africa', population: 37000000, gdp_per_capita: 2136, life_expectancy: 61.6 },
				{ country: 'Malaysia', continent: 'Asia', population: 34200000, gdp_per_capita: 12451, life_expectancy: 76.2 },
				{
					country: 'Mozambique',
					continent: 'Africa',
					population: 33500000,
					gdp_per_capita: 506,
					life_expectancy: 60.9
				},
				{ country: 'Ghana', continent: 'Africa', population: 34100000, gdp_per_capita: 2445, life_expectancy: 64.1 },
				{ country: 'Yemen', continent: 'Asia', population: 35000000, gdp_per_capita: 665, life_expectancy: 66.1 },
				{ country: 'Nepal', continent: 'Asia', population: 30900000, gdp_per_capita: 1336, life_expectancy: 70.8 },
				{
					country: 'Venezuela',
					continent: 'South America',
					population: 28800000,
					gdp_per_capita: 4167,
					life_expectancy: 72.1
				},
				{
					country: 'Madagascar',
					continent: 'Africa',
					population: 31200000,
					gdp_per_capita: 505,
					life_expectancy: 66.7
				},
				{ country: 'Cameroon', continent: 'Africa', population: 28600000, gdp_per_capita: 1662, life_expectancy: 60.3 },
				{
					country: 'Ivory Coast',
					continent: 'Africa',
					population: 29400000,
					gdp_per_capita: 2549,
					life_expectancy: 59.3
				},
				{ country: 'Niger', continent: 'Africa', population: 27200000, gdp_per_capita: 590, life_expectancy: 62.4 },
				{
					country: 'Australia',
					continent: 'Oceania',
					population: 26600000,
					gdp_per_capita: 64491,
					life_expectancy: 83.3
				},
				{
					country: 'North Korea',
					continent: 'Asia',
					population: 26100000,
					gdp_per_capita: 583,
					life_expectancy: 72.3
				},
				{ country: 'Sri Lanka', continent: 'Asia', population: 21800000, gdp_per_capita: 4065, life_expectancy: 76.4 },
				{
					country: 'Burkina Faso',
					continent: 'Africa',
					population: 23200000,
					gdp_per_capita: 893,
					life_expectancy: 61.6
				},
				{ country: 'Mali', continent: 'Africa', population: 23300000, gdp_per_capita: 916, life_expectancy: 59.3 },
				{ country: 'Romania', continent: 'Europe', population: 19000000, gdp_per_capita: 16324, life_expectancy: 75.6 },
				{ country: 'Malawi', continent: 'Africa', population: 21500000, gdp_per_capita: 636, life_expectancy: 64.3 },
				{
					country: 'Chile',
					continent: 'South America',
					population: 19600000,
					gdp_per_capita: 16265,
					life_expectancy: 80.2
				},
				{
					country: 'Kazakhstan',
					continent: 'Asia',
					population: 20400000,
					gdp_per_capita: 11239,
					life_expectancy: 73.1
				},
				{ country: 'Zambia', continent: 'Africa', population: 20600000, gdp_per_capita: 1321, life_expectancy: 63.9 },
				{
					country: 'Guatemala',
					continent: 'North America',
					population: 18400000,
					gdp_per_capita: 5473,
					life_expectancy: 74.3
				},
				{
					country: 'Ecuador',
					continent: 'South America',
					population: 18000000,
					gdp_per_capita: 6368,
					life_expectancy: 77.0
				},
				{ country: 'Syria', continent: 'Asia', population: 19400000, gdp_per_capita: 2807, life_expectancy: 72.7 },
				{
					country: 'Netherlands',
					continent: 'Europe',
					population: 17500000,
					gdp_per_capita: 58292,
					life_expectancy: 82.2
				},
				{ country: 'Senegal', continent: 'Africa', population: 18300000, gdp_per_capita: 1607, life_expectancy: 68.1 },
				{ country: 'Cambodia', continent: 'Asia', population: 16800000, gdp_per_capita: 1785, life_expectancy: 69.8 },
				{ country: 'Chad', continent: 'Africa', population: 18300000, gdp_per_capita: 714, life_expectancy: 54.2 },
				{ country: 'Belgium', continent: 'Europe', population: 11800000, gdp_per_capita: 51768, life_expectancy: 81.8 },
				{
					country: 'Czech Republic',
					continent: 'Europe',
					population: 10900000,
					gdp_per_capita: 27191,
					life_expectancy: 79.4
				},
				{ country: 'Greece', continent: 'Europe', population: 10300000, gdp_per_capita: 20867, life_expectancy: 80.1 },
				{ country: 'Hungary', continent: 'Europe', population: 9600000, gdp_per_capita: 19283, life_expectancy: 76.0 },
				{ country: 'Sweden', continent: 'Europe', population: 10500000, gdp_per_capita: 60239, life_expectancy: 83.0 },
				{ country: 'Austria', continent: 'Europe', population: 9100000, gdp_per_capita: 53859, life_expectancy: 81.7 },
				{
					country: 'Switzerland',
					continent: 'Europe',
					population: 8800000,
					gdp_per_capita: 93720,
					life_expectancy: 83.9
				},
				{ country: 'Cyprus', continent: 'Europe', population: 1300000, gdp_per_capita: 32415, life_expectancy: 81.2 },
				{ country: 'Israel', continent: 'Asia', population: 9500000, gdp_per_capita: 54930, life_expectancy: 82.7 },
				{ country: 'Jordan', continent: 'Asia', population: 11500000, gdp_per_capita: 4405, life_expectancy: 74.5 },
				{ country: 'Kuwait', continent: 'Asia', population: 4900000, gdp_per_capita: 29301, life_expectancy: 78.7 },
				{ country: 'Lebanon', continent: 'Asia', population: 5500000, gdp_per_capita: 4136, life_expectancy: 78.9 },
				{ country: 'Oman', continent: 'Asia', population: 4600000, gdp_per_capita: 19302, life_expectancy: 77.9 },
				{ country: 'Qatar', continent: 'Asia', population: 3000000, gdp_per_capita: 88046, life_expectancy: 80.2 },
				{
					country: 'United Arab Emirates',
					continent: 'Asia',
					population: 10400000,
					gdp_per_capita: 53758,
					life_expectancy: 78.7
				},
				{
					country: 'Argentina',
					continent: 'South America',
					population: 46900000,
					gdp_per_capita: 12449,
					life_expectancy: 76.7
				},
				{
					country: 'Bolivia',
					continent: 'South America',
					population: 12500000,
					gdp_per_capita: 3552,
					life_expectancy: 71.2
				},
				{
					country: 'Colombia',
					continent: 'South America',
					population: 52000000,
					gdp_per_capita: 6651,
					life_expectancy: 77.3
				},
				{
					country: 'Costa Rica',
					continent: 'North America',
					population: 5300000,
					gdp_per_capita: 13439,
					life_expectancy: 80.3
				},
				{
					country: 'Cuba',
					continent: 'North America',
					population: 11200000,
					gdp_per_capita: 9296,
					life_expectancy: 78.8
				},
				{
					country: 'Dominican Republic',
					continent: 'North America',
					population: 11400000,
					gdp_per_capita: 9673,
					life_expectancy: 74.1
				},
				{
					country: 'El Salvador',
					continent: 'North America',
					population: 6400000,
					gdp_per_capita: 4549,
					life_expectancy: 73.3
				},
				{
					country: 'Honduras',
					continent: 'North America',
					population: 10600000,
					gdp_per_capita: 2831,
					life_expectancy: 75.3
				},
				{
					country: 'Jamaica',
					continent: 'North America',
					population: 2800000,
					gdp_per_capita: 5582,
					life_expectancy: 74.5
				},
				{
					country: 'Nicaragua',
					continent: 'North America',
					population: 7200000,
					gdp_per_capita: 2120,
					life_expectancy: 74.5
				},
				{
					country: 'Panama',
					continent: 'North America',
					population: 4500000,
					gdp_per_capita: 16993,
					life_expectancy: 78.5
				},
				{
					country: 'Paraguay',
					continent: 'South America',
					population: 6800000,
					gdp_per_capita: 6285,
					life_expectancy: 74.3
				},
				{
					country: 'Uruguay',
					continent: 'South America',
					population: 3400000,
					gdp_per_capita: 18802,
					life_expectancy: 77.9
				},
				{ country: 'Belarus', continent: 'Europe', population: 9200000, gdp_per_capita: 7302, life_expectancy: 74.8 },
				{ country: 'Bulgaria', continent: 'Europe', population: 6700000, gdp_per_capita: 13393, life_expectancy: 75.1 },
				{ country: 'Croatia', continent: 'Europe', population: 3900000, gdp_per_capita: 18685, life_expectancy: 78.5 },
				{ country: 'Estonia', continent: 'Europe', population: 1400000, gdp_per_capita: 27730, life_expectancy: 78.8 },
				{ country: 'Latvia', continent: 'Europe', population: 1800000, gdp_per_capita: 21668, life_expectancy: 75.3 },
				{
					country: 'Lithuania',
					continent: 'Europe',
					population: 2700000,
					gdp_per_capita: 24645,
					life_expectancy: 75.9
				},
				{ country: 'Moldova', continent: 'Europe', population: 2500000, gdp_per_capita: 5813, life_expectancy: 71.9 },
				{ country: 'Slovakia', continent: 'Europe', population: 5500000, gdp_per_capita: 22107, life_expectancy: 77.5 },
				{ country: 'Slovenia', continent: 'Europe', population: 2100000, gdp_per_capita: 29200, life_expectancy: 81.3 },
				{ country: 'Albania', continent: 'Europe', population: 2800000, gdp_per_capita: 6494, life_expectancy: 78.6 },
				{
					country: 'Bosnia and Herzegovina',
					continent: 'Europe',
					population: 3200000,
					gdp_per_capita: 7164,
					life_expectancy: 77.4
				},
				{
					country: 'North Macedonia',
					continent: 'Europe',
					population: 2100000,
					gdp_per_capita: 6746,
					life_expectancy: 75.8
				},
				{ country: 'Serbia', continent: 'Europe', population: 6700000, gdp_per_capita: 9230, life_expectancy: 76.0 },
				{
					country: 'Montenegro',
					continent: 'Europe',
					population: 630000,
					gdp_per_capita: 10361,
					life_expectancy: 76.9
				},
				{ country: 'Norway', continent: 'Europe', population: 5500000, gdp_per_capita: 106149, life_expectancy: 83.2 },
				{ country: 'Denmark', continent: 'Europe', population: 5900000, gdp_per_capita: 68008, life_expectancy: 81.4 },
				{ country: 'Finland', continent: 'Europe', population: 5600000, gdp_per_capita: 53754, life_expectancy: 82.0 },
				{ country: 'Ireland', continent: 'Europe', population: 5100000, gdp_per_capita: 99152, life_expectancy: 82.5 },
				{
					country: 'Portugal',
					continent: 'Europe',
					population: 10200000,
					gdp_per_capita: 25065,
					life_expectancy: 81.9
				},
				{ country: 'Spain', continent: 'Europe', population: 47600000, gdp_per_capita: 30390, life_expectancy: 83.6 },
				{
					country: 'New Zealand',
					continent: 'Oceania',
					population: 5200000,
					gdp_per_capita: 48424,
					life_expectancy: 82.3
				},
				{ country: 'Singapore', continent: 'Asia', population: 6000000, gdp_per_capita: 82807, life_expectancy: 83.7 },
				{
					country: 'South Korea',
					continent: 'Asia',
					population: 51800000,
					gdp_per_capita: 34758,
					life_expectancy: 83.6
				},
				{ country: 'Taiwan', continent: 'Asia', population: 23900000, gdp_per_capita: 33775, life_expectancy: 81.0 }
			];

			// Age Distribution Data
			const ageDistributionData = [
				{ region: 'Africa', age_group: '0-14', percentage: 40.5 },
				{ region: 'Africa', age_group: '15-24', percentage: 19.3 },
				{ region: 'Africa', age_group: '25-54', percentage: 31.8 },
				{ region: 'Africa', age_group: '55-64', percentage: 5.2 },
				{ region: 'Africa', age_group: '65+', percentage: 3.2 },
				{ region: 'Asia', age_group: '0-14', percentage: 23.8 },
				{ region: 'Asia', age_group: '15-24', percentage: 15.6 },
				{ region: 'Asia', age_group: '25-54', percentage: 43.2 },
				{ region: 'Asia', age_group: '55-64', percentage: 10.3 },
				{ region: 'Asia', age_group: '65+', percentage: 7.1 },
				{ region: 'Europe', age_group: '0-14', percentage: 15.4 },
				{ region: 'Europe', age_group: '15-24', percentage: 10.8 },
				{ region: 'Europe', age_group: '25-54', percentage: 40.2 },
				{ region: 'Europe', age_group: '55-64', percentage: 13.9 },
				{ region: 'Europe', age_group: '65+', percentage: 19.7 },
				{ region: 'North America', age_group: '0-14', percentage: 18.2 },
				{ region: 'North America', age_group: '15-24', percentage: 13.1 },
				{ region: 'North America', age_group: '25-54', percentage: 39.8 },
				{ region: 'North America', age_group: '55-64', percentage: 13.5 },
				{ region: 'North America', age_group: '65+', percentage: 15.4 },
				{ region: 'South America', age_group: '0-14', percentage: 22.9 },
				{ region: 'South America', age_group: '15-24', percentage: 15.8 },
				{ region: 'South America', age_group: '25-54', percentage: 42.1 },
				{ region: 'South America', age_group: '55-64', percentage: 11.4 },
				{ region: 'South America', age_group: '65+', percentage: 7.8 },
				{ region: 'Oceania', age_group: '0-14', percentage: 19.1 },
				{ region: 'Oceania', age_group: '15-24', percentage: 12.7 },
				{ region: 'Oceania', age_group: '25-54', percentage: 41.3 },
				{ region: 'Oceania', age_group: '55-64', percentage: 13.2 },
				{ region: 'Oceania', age_group: '65+', percentage: 13.7 }
			];
		</script>

		<!-- Visualization Scripts -->
		<script type="text/javascript">
			// Map Visualization
			const mapSpec = {
				$schema: 'https://vega.github.io/schema/vega-lite/v5.json',
				width: 'container',
				height: 500,
				title: null,
				data: {
					url: 'https://raw.githubusercontent.com/vega/vega-datasets/master/data/world-110m.json',
					format: { type: 'topojson', feature: 'countries' }
				},
				projection: { type: 'equirectangular' },
				transform: [
					{
						lookup: 'id',
						from: {
							data: { values: worldPopulationData },
							key: 'country_id',
							fields: ['country', 'population', 'continent']
						}
					}
				],
				layer: [
					{
						mark: { type: 'geoshape', stroke: 'white', strokeWidth: 0.5 },
						encoding: {
							color: {
								field: 'population',
								type: 'quantitative',
								scale: {
									type: 'log',
									scheme: 'blues'
								},
								legend: { title: 'Population', format: '.2s' }
							},
							tooltip: [
								{ field: 'country', type: 'nominal', title: 'Country' },
								{ field: 'population', type: 'quantitative', title: 'Population', format: ',' },
								{ field: 'continent', type: 'nominal', title: 'Continent' }
							],
							opacity: {
								condition: { selection: 'country_select', value: 1 },
								value: 0.3
							}
						},
						selection: {
							country_select: {
								type: 'multi',
								fields: ['country'],
								on: 'click'
							}
						}
					}
				]
			};

			// Bar Chart Visualization
			const barSpec = {
				$schema: 'https://vega.github.io/schema/vega-lite/v5.json',
				width: 'container',
				height: 400,
				title: null,
				data: { values: worldPopulationData },
				transform: [
					{
						window: [{ op: 'rank', as: 'rank' }],
						sort: [{ field: 'population', order: 'descending' }]
					},
					{ filter: 'datum.rank <= 15' }
				],
				mark: { type: 'bar', cursor: 'pointer' },
				encoding: {
					y: {
						field: 'country',
						type: 'nominal',
						sort: '-x',
						axis: { title: null }
					},
					x: {
						field: 'population',
						type: 'quantitative',
						axis: { title: 'Population', format: '.2s' }
					},
					color: {
						field: 'continent',
						type: 'nominal',
						scale: { scheme: 'category10' },
						legend: { title: 'Continent' }
					},
					opacity: {
						condition: { selection: 'country_select', value: 1 },
						value: 0.3
					},
					tooltip: [
						{ field: 'country', type: 'nominal', title: 'Country' },
						{ field: 'population', type: 'quantitative', title: 'Population', format: ',' },
						{ field: 'continent', type: 'nominal', title: 'Continent' }
					]
				},
				selection: {
					country_select: {
						type: 'multi',
						fields: ['country'],
						on: 'click'
					}
				}
			};

			// Line Chart Visualization
			const lineSpec = {
				$schema: 'https://vega.github.io/schema/vega-lite/v5.json',
				width: 'container',
				height: 400,
				title: null,
				data: { values: populationTrendsData },
				transform: [
					{
						filter: {
							field: 'country',
							oneOf: ['China', 'India', 'United States', 'Indonesia', 'Brazil', 'Pakistan']
						}
					}
				],
				mark: { type: 'line', point: true, strokeWidth: 2 },
				encoding: {
					x: {
						field: 'year',
						type: 'temporal',
						axis: { title: 'Year', format: '%Y' }
					},
					y: {
						field: 'population',
						type: 'quantitative',
						axis: { title: 'Population', format: '.2s' }
					},
					color: {
						field: 'country',
						type: 'nominal',
						scale: { scheme: 'category10' },
						legend: { title: 'Country' }
					},
					opacity: {
						condition: { selection: 'country_select', value: 1 },
						value: 0.2
					},
					tooltip: [
						{ field: 'country', type: 'nominal', title: 'Country' },
						{ field: 'year', type: 'temporal', title: 'Year', format: '%Y' },
						{ field: 'population', type: 'quantitative', title: 'Population', format: ',' }
					]
				},
				selection: {
					country_select: {
						type: 'multi',
						fields: ['country']
					}
				}
			};

			// Scatter Plot Visualization
			const scatterSpec = {
				$schema: 'https://vega.github.io/schema/vega-lite/v5.json',
				width: 'container',
				height: 500,
				title: null,
				data: { values: demographicsData },
				mark: { type: 'circle', opacity: 0.7 },
				encoding: {
					x: {
						field: 'gdp_per_capita',
						type: 'quantitative',
						scale: { type: 'log' },
						axis: { title: 'GDP per Capita (USD, log scale)', format: '$,.0f' }
					},
					y: {
						field: 'life_expectancy',
						type: 'quantitative',
						scale: { domain: [40, 90] },
						axis: { title: 'Life Expectancy (years)' }
					},
					size: {
						field: 'population',
						type: 'quantitative',
						scale: { range: [50, 2000] },
						legend: { title: 'Population', format: '.2s' }
					},
					color: {
						field: 'continent',
						type: 'nominal',
						scale: { scheme: 'category10' },
						legend: { title: 'Continent' }
					},
					opacity: {
						condition: [
							{ selection: 'continent_select', value: 0.8 },
							{ selection: 'country_select', value: 1 }
						],
						value: 0.1
					},
					tooltip: [
						{ field: 'country', type: 'nominal', title: 'Country' },
						{ field: 'continent', type: 'nominal', title: 'Continent' },
						{ field: 'population', type: 'quantitative', title: 'Population', format: ',' },
						{ field: 'gdp_per_capita', type: 'quantitative', title: 'GDP per Capita', format: '$,.0f' },
						{ field: 'life_expectancy', type: 'quantitative', title: 'Life Expectancy', format: '.1f' }
					]
				},
				selection: {
					continent_select: {
						type: 'multi',
						fields: ['continent'],
						bind: 'legend'
					},
					country_select: {
						type: 'multi',
						fields: ['country']
					}
				}
			};

			// Age Distribution Visualization
			const ageSpec = {
				$schema: 'https://vega.github.io/schema/vega-lite/v5.json',
				width: 'container',
				height: 400,
				title: null,
				data: { values: ageDistributionData },
				mark: 'bar',
				encoding: {
					x: {
						field: 'region',
						type: 'nominal',
						axis: { title: 'Region', labelAngle: -45 }
					},
					y: {
						field: 'percentage',
						type: 'quantitative',
						axis: { title: 'Percentage of Population' }
					},
					color: {
						field: 'age_group',
						type: 'nominal',
						scale: { scheme: 'tableau10' },
						legend: { title: 'Age Group' }
					},
					tooltip: [
						{ field: 'region', type: 'nominal', title: 'Region' },
						{ field: 'age_group', type: 'nominal', title: 'Age Group' },
						{ field: 'percentage', type: 'quantitative', title: 'Percentage', format: '.1f' }
					]
				}
			};

			// Embed all visualizations
			vegaEmbed('#map-viz', 'plots/map.json', {
				actions: { export: true, source: false, compiled: false, editor: false }
			});

			vegaEmbed('#bar-viz', barSpec, {
				actions: { export: true, source: false, compiled: false, editor: false }
			});

			vegaEmbed('#line-viz', lineSpec, {
				actions: { export: true, source: false, compiled: false, editor: false }
			});

			vegaEmbed('#scatter-viz', scatterSpec, {
				actions: { export: true, source: false, compiled: false, editor: false }
			});

			vegaEmbed('#age-viz', ageSpec, {
				actions: { export: true, source: false, compiled: false, editor: false }
			});
		</script>
	</body>
</html>
