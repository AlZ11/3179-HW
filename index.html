<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Global Demographics Dashboard</title>

		<!-- Vega, Vega-Lite, and Vega-Embed -->
		<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

		<!-- Custom CSS -->
		<link rel="stylesheet" href="css/styles.css" />

		<!-- Google Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body>
		<!-- Navigation Bar -->
		<nav class="nav-bar" id="nav-bar">
			<div class="container">
				<div class="nav-content">
					<span class="nav-brand">📊 Demographics Dashboard</span>
					<button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
						<span></span>
						<span></span>
						<span></span>
					</button>
					<ul class="nav-links" id="nav-links">
						<li><a href="#intro" class="nav-link">Introduction</a></li>
						<li><a href="#map-section" class="nav-link">World Map</a></li>
						<li><a href="#demographics" class="nav-link">Demographics</a></li>
						<li><a href="#wealth-health" class="nav-link">Wealth & Health</a></li>
						<li><a href="#mortality" class="nav-link">Mortality</a></li>
						<li><a href="#sources" class="nav-link">Sources</a></li>
					</ul>
				</div>
			</div>
		</nav>

		<!-- Header Section -->
		<header class="header">
			<div class="container">
				<h1 class="main-title">Global Demographics Dashboard 2024</h1>
				<p class="subtitle">Exploring Population Patterns, Trends, and Socioeconomic Indicators Across Nations</p>
				<div class="header-stats">
					<div class="stat-card">
						<span class="stat-number">8.1B</span>
						<span class="stat-label">World Population</span>
					</div>
					<div class="stat-card">
						<span class="stat-number">195</span>
						<span class="stat-label">Countries</span>
					</div>
					<div class="stat-card">
						<span class="stat-number">73</span>
						<span class="stat-label">Avg Life Expectancy</span>
					</div>
				</div>
			</div>
		</header>

		<!-- Introduction Section -->
		<section class="intro-section" id="intro">
			<div class="container">
				<div class="intro-content">
					<h2>Understanding Our Changing World</h2>
					<p>
						This interactive dashboard provides insights into global demographic trends, helping you understand how
						population, wealth, and health indicators vary across nations. Explore the data through interactive
						visualizations to discover patterns and correlations that shape our world.
					</p>
					<div class="insight-boxes">
						<div class="insight-box">
							<h3>🌍 Geographic Patterns</h3>
							<p>Discover how population density and growth vary by region</p>
						</div>
						<div class="insight-box">
							<h3>📈 Historical Trends</h3>
							<p>Track population changes from 1960 to 2024</p>
						</div>
						<div class="insight-box">
							<h3>💡 Key Insights</h3>
							<p>Explore relationships between wealth, health, and demographics</p>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- How to Use Guide -->
		<section class="guide-section">
			<div class="container">
				<div class="guide-toggle" id="guide-toggle">
					<span class="guide-icon">💡</span>
					<span>How to Use This Dashboard</span>
					<span class="guide-arrow">▼</span>
				</div>
				<div class="guide-content" id="guide-content">
					<div class="guide-grid">
						<div class="guide-item">
							<div class="guide-number">1</div>
							<h3>🖱️ Hover & Click</h3>
							<p>
								Hover over visualizations to see detailed information. Click on elements to filter and highlight data
								across all charts.
							</p>
						</div>
						<div class="guide-item">
							<div class="guide-number">2</div>
							<h3>🔍 Filter & Explore</h3>
							<p>
								Use legends to filter by continent or category. Select countries on the map to see their data
								highlighted everywhere.
							</p>
						</div>
						<div class="guide-item">
							<div class="guide-number">3</div>
							<h3>📊 Compare & Analyze</h3>
							<p>
								Compare multiple countries by selecting them from different visualizations. Notice how they relate
								across metrics.
							</p>
						</div>
						<div class="guide-item">
							<div class="guide-number">4</div>
							<h3>🎯 Navigate</h3>
							<p>
								Use the navigation bar at the top to jump between sections. Scroll naturally to follow the data story.
							</p>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- Main Visualization Container -->
		<main class="main-content">
			<div class="container">
				<!-- World Map Section -->
				<section class="viz-section map-section" id="map-section">
					<div class="section-header">
						<h2>🗺️ World Population Distribution</h2>
						<p class="section-description">
							Click on any country to see detailed information and highlight it across all visualizations. Hover over
							countries to see population data.
						</p>
					</div>
					<div id="map-viz" class="visualization"></div>
					<div class="viz-notes">
						<p>
							<strong>Note:</strong> Color intensity indicates population size. Darker colors represent higher
							populations.
						</p>
					</div>
					<div class="key-finding">
						<span class="finding-icon">🔍</span>
						<div class="finding-content">
							<strong>Key Finding:</strong> Asia dominates global population with China and India together accounting
							for over 35% of the world's population. Africa shows the highest growth rates, suggesting a demographic
							shift in the coming decades.
						</div>
					</div>
				</section>

				<!-- Two Column Layout for Bar and Line Charts -->
				<div class="viz-grid-2" id="demographics">
					<!-- Top Countries Bar Chart -->
					<section class="viz-section">
						<div class="section-header">
							<h2>📊 Top 15 Most Populous Countries</h2>
							<p class="section-description">
								Compare population sizes across the world's largest nations. Click bars to filter other visualizations.
							</p>
						</div>
						<div id="bar-viz" class="visualization"></div>
						<div class="viz-tip">
							<span class="tip-icon">💡</span>
							<span><strong>Tip:</strong> Click on a bar to highlight that country across all visualizations</span>
						</div>
					</section>

					<!-- Population Trends Line Chart -->
					<section class="viz-section">
						<div class="section-header">
							<h2>📈 Population Growth Trends (1960-2024)</h2>
							<p class="section-description">
								Explore how populations have changed over time. Select countries from other charts to compare trends.
							</p>
						</div>
						<div id="line-viz" class="visualization"></div>
						<div class="viz-tip">
							<span class="tip-icon">💡</span>
							<span><strong>Tip:</strong> Hover over lines to see exact population values for any year</span>
						</div>
					</section>
				</div>
				<div class="key-finding">
					<span class="finding-icon">🔍</span>
					<div class="finding-content">
						<strong>Key Finding:</strong> China and India have experienced dramatically different growth trajectories,
						with India's population projected to surpass China's due to differing birth control policies and demographic
						momentum.
					</div>
				</div>

				<!-- Scatter Plot Section -->
				<section class="viz-section scatter-section" id="wealth-health">
					<div class="section-header">
						<h2>💰 Life Expectancy vs GDP per Capita</h2>
						<p class="section-description">
							Discover the relationship between economic prosperity and health outcomes. Point size represents
							population. Use the legend to filter by continent.
						</p>
					</div>
					<div id="scatter-viz" class="visualization"></div>
					<div class="viz-notes">
						<p>
							<strong>Insight:</strong> Notice the strong correlation between GDP per capita and life expectancy, with
							notable outliers representing unique socioeconomic conditions.
						</p>
					</div>
					<div class="viz-tip">
						<span class="tip-icon">💡</span>
						<span
							><strong>Tip:</strong> Click on continent names in the legend to isolate regions for detailed
							comparison</span
						>
					</div>
					<div class="key-finding">
						<span class="finding-icon">🔍</span>
						<div class="finding-content">
							<strong>Key Finding:</strong> A clear logarithmic relationship exists—each doubling of GDP per capita is
							associated with significant gains in life expectancy, though diminishing returns appear above $30,000 per
							capita. Countries like Costa Rica and Cuba achieve high life expectancy with relatively modest GDP.
						</div>
					</div>
				</section>

				<!-- Age Structure Section -->
				<section class="viz-section">
					<div class="section-header">
						<h2>👥 Age Distribution by Region</h2>
						<p class="section-description">
							Compare age structures across different regions. Younger populations indicate higher growth potential.
						</p>
					</div>
					<div id="age-viz" class="visualization"></div>
					<div class="key-finding">
						<span class="finding-icon">🔍</span>
						<div class="finding-content">
							<strong>Key Finding:</strong> Africa has the youngest population structure with 60% under age 25,
							indicating substantial future growth potential. In contrast, Europe and East Asia face aging populations
							with significant policy implications for healthcare and pensions.
						</div>
					</div>
				</section>

				<!-- Death Causes Section -->
				<div class="viz-grid-2" id="mortality">
					<section class="viz-section">
						<div class="section-header">
							<h2>💔 Leading Causes of Death Worldwide</h2>
							<p class="section-description">
								Interactive donut chart showing all major causes of death globally. Click on the legend to filter by
								disease category, or click on segments to highlight specific causes.
							</p>
						</div>
						<div id="death-causes-viz" class="visualization"></div>
						<div class="viz-tip">
							<span class="tip-icon">💡</span>
							<span
								><strong>Tip:</strong> Click on a segment to highlight it. Click on legend items to toggle categories
								on/off</span
							>
						</div>
					</section>

					<section class="viz-section">
						<div class="section-header">
							<h2>🏥 Key Health Insights</h2>
							<p class="section-description">Understanding global mortality patterns</p>
						</div>
						<div class="health-insights">
							<div class="insight-item">
								<h3>🫀 Cardiovascular Diseases</h3>
								<p>
									Ischaemic heart disease and stroke remain the leading causes of death worldwide, accounting for over
									26% of all deaths combined.
								</p>
							</div>
							<div class="insight-item">
								<h3>🦠 Infectious Diseases</h3>
								<p>
									COVID-19, lower respiratory infections, and tuberculosis represent significant infectious disease
									challenges, particularly in developing nations.
								</p>
							</div>
							<div class="insight-item">
								<h3>🎗️ Cancer</h3>
								<p>
									Lung, colon, breast, and stomach cancers are among the top killers, with incidence varying
									significantly by region and lifestyle factors.
								</p>
							</div>
							<div class="insight-item">
								<h3>🧠 Neurological Conditions</h3>
								<p>
									Alzheimer's disease and other dementias are increasingly prevalent as global populations age,
									affecting millions worldwide.
								</p>
							</div>
						</div>
					</section>
				</div>
			</div>
		</main>

		<!-- Data Sources Section -->
		<section class="data-sources" id="sources">
			<div class="container">
				<h2>📚 Data Sources & Methodology</h2>
				<div class="sources-grid">
					<div class="source-card">
						<h3>World Bank Open Data</h3>
						<p>Population, GDP, and economic indicators (1960-2024)</p>
						<a href="https://data.worldbank.org/" target="_blank" rel="noopener noreferrer">Visit Source →</a>
					</div>
					<div class="source-card">
						<h3>United Nations Data</h3>
						<p>Demographic statistics and projections</p>
						<a href="http://data.un.org/" target="_blank" rel="noopener noreferrer">Visit Source →</a>
					</div>
					<div class="source-card">
						<h3>Our World in Data</h3>
						<p>Life expectancy, birth rates, death rates, and health indicators</p>
						<a href="https://ourworldindata.org/" target="_blank" rel="noopener noreferrer">Visit Source →</a>
					</div>
					<div class="source-card">
						<h3>World Health Organization (WHO)</h3>
						<p>Global health estimates and causes of death statistics</p>
						<a href="https://www.who.int/data/gho" target="_blank" rel="noopener noreferrer">Visit Source →</a>
					</div>
				</div>
				<div class="methodology-section">
					<div class="methodology-note">
						<h3>📋 Methodology</h3>
						<p>
							<strong>Data Processing:</strong> Data has been aggregated from multiple authoritative sources and
							normalized to 2024 values where applicable. Historical trends use annual averages. Missing data points are
							interpolated where appropriate using linear interpolation methods.
						</p>
						<p>
							<strong>Quality Assurance:</strong> All data sources are publicly available and regularly updated by their
							respective organizations. Cross-validation was performed across sources to ensure consistency and
							accuracy.
						</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Footer -->
		<footer class="footer">
			<div class="container">
				<p>FIT3179 Data Visualisation 2 | Created with Vega-Lite Authorship and License</p>
				<p class="footer-note">
					This work was created by Alex Zhang for FIT3179 Data Visualisation 2, Monash University 18/10/2025. You may
					choose to reuse this work under a copyleft license, Please consult with the author before redistributing. This
					visualisation is publicly accessible, so all external elements are used with permission or are openly
					available
				</p>
			</div>
		</footer>

		<!-- Visualization Scripts -->
		<script type="text/javascript">
			vegaEmbed('#map-viz', 'plots/map.json', {
				actions: { export: true, source: false, compiled: false, editor: false }
			});

			vegaEmbed('#bar-viz', 'plots/bar.json', {
				actions: { export: true, source: false, compiled: false, editor: false }
			});

			vegaEmbed('#line-viz', 'plots/line.json', {
				actions: { export: true, source: false, compiled: false, editor: false }
			});

			vegaEmbed('#scatter-viz', 'plots/scatter.json', {
				actions: { export: true, source: false, compiled: false, editor: false }
			});

			vegaEmbed('#age-viz', 'plots/stackedBar.json', {
				actions: { export: true, source: false, compiled: false, editor: false }
			});

			vegaEmbed('#death-causes-viz', 'plots/deathCauses.json', {
				actions: { export: true, source: false, compiled: false, editor: false }
			});
		</script>

		<!-- Interactive Features Script -->
		<script type="text/javascript">
			// Smooth scrolling for navigation links
			document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
				anchor.addEventListener('click', function (e) {
					e.preventDefault();
					const target = document.querySelector(this.getAttribute('href'));
					if (target) {
						const navHeight = document.querySelector('.nav-bar').offsetHeight;
						const targetPosition = target.offsetTop - navHeight - 20;
						window.scrollTo({
							top: targetPosition,
							behavior: 'smooth'
						});
					}
				});
			});

			// Sticky navigation bar
			const navBar = document.getElementById('nav-bar');
			const navBarPosition = navBar.offsetTop;

			window.addEventListener('scroll', () => {
				if (window.pageYOffset > navBarPosition) {
					navBar.classList.add('sticky');
				} else {
					navBar.classList.remove('sticky');
				}
			});

			// Mobile navigation toggle
			const navToggle = document.getElementById('nav-toggle');
			const navLinks = document.getElementById('nav-links');

			navToggle.addEventListener('click', () => {
				navLinks.classList.toggle('active');
				navToggle.classList.toggle('active');
			});

			// Close mobile nav when clicking a link
			document.querySelectorAll('.nav-link').forEach((link) => {
				link.addEventListener('click', () => {
					navLinks.classList.remove('active');
					navToggle.classList.remove('active');
				});
			});

			// Guide toggle functionality
			const guideToggle = document.getElementById('guide-toggle');
			const guideContent = document.getElementById('guide-content');
			const guideArrow = guideToggle.querySelector('.guide-arrow');

			guideToggle.addEventListener('click', () => {
				const isOpen = guideContent.style.maxHeight && guideContent.style.maxHeight !== '0px';

				if (isOpen) {
					guideContent.style.maxHeight = '0px';
					guideArrow.textContent = '▼';
					guideToggle.classList.remove('open');
				} else {
					guideContent.style.maxHeight = guideContent.scrollHeight + 'px';
					guideArrow.textContent = '▲';
					guideToggle.classList.add('open');
				}
			});

			// Highlight active section in navigation
			const sections = document.querySelectorAll('section[id], div[id]');
			const navItems = document.querySelectorAll('.nav-link');

			window.addEventListener('scroll', () => {
				let current = '';
				const scrollPosition = window.pageYOffset + 100;

				sections.forEach((section) => {
					const sectionTop = section.offsetTop;
					const sectionHeight = section.clientHeight;
					if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
						current = section.getAttribute('id');
					}
				});

				navItems.forEach((item) => {
					item.classList.remove('active');
					if (item.getAttribute('href') === '#' + current) {
						item.classList.add('active');
					}
				});
			});

			// Add animation on scroll for key findings
			const observerOptions = {
				threshold: 0.2,
				rootMargin: '0px 0px -100px 0px'
			};

			const observer = new IntersectionObserver((entries) => {
				entries.forEach((entry) => {
					if (entry.isIntersecting) {
						entry.target.classList.add('visible');
					}
				});
			}, observerOptions);

			document.querySelectorAll('.key-finding, .insight-box, .guide-item').forEach((element) => {
				observer.observe(element);
			});
		</script>
	</body>
</html>
